"use strict";(self.webpackChunkapp_app=self.webpackChunkapp_app||[]).push([[208],{57208:(e,a,t)=>{t.r(a),t.d(a,{default:()=>T});var n=t(65043),s=t(64231),r=t(44101),i=t(44227),l=t(80861),o=t(25104),c=t(96105),d=(t(34598),t(68903)),h=t(85865),x=t(11906),p=t(67784),f=t(83462),u=t(29347),m=t(35316),b=t(26600),j=t(92314),v=t(55263),g=t(17392),A=t(96446),y=t(12500),C=t(67201),k=t(73216),w=t(54420),N=t(1880),S=t(70579);const T=()=>{const[e,a]=(0,n.useState)(""),[t,T]=(0,n.useState)(""),[I,E]=(0,n.useState)(""),[F,W]=(0,n.useState)(""),[z,V]=(0,n.useState)(""),[_,H]=(0,n.useState)(""),L=(0,k.Zp)("");(0,n.useEffect)((()=>{const e=N.A.get("token");if(e)try{const a=(0,w.s)(e),t=Date.now()/1e3;a.exp<t&&(N.A.remove("token"),L("/"))}catch(a){console.error("Invalid token:",a),N.A.remove("token"),L("/")}else L("/")}),[L]);const O=()=>{H(!1)};(0,n.useEffect)((()=>{U()}),[]),console.log(e,"plan data");const U=()=>{try{fetch("/api/plandetail",{method:"GET",redirect:"follow"}).then((async e=>200===e.status||400===e.status?{status_code:e.status,data:await e.json()}:{status_code:e.status,data:{msg:"Unexpected Error"}})).then((e=>{a(e.data.data),console.log(e.data.data,"plan comming")})).catch((e=>{console.error(e)}))}catch(e){console.error(e)}},G=()=>{try{const e=new Headers;e.append("Content-Type","application/json");const a=JSON.stringify({planname:I,amount:F,features:z});fetch("/api/plan",{method:"POST",headers:e,body:a,redirect:"follow"}).then((async e=>200===e.status||400===e.status?{status_code:e.status,data:await e.json()}:{status_code:e.status,data:{msg:"Unexpected Error"}})).then((e=>{T(e.data.data),console.log(e.data.data,"plan comming"),U()})).catch((e=>{console.error(e)}))}catch(e){console.error(e)}};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(A.A,{mb:5,sx:{flexGrow:1},children:(0,S.jsx)(j.A,{sx:{backgroundColor:"#2d2859",color:"#fff"},position:"static",children:(0,S.jsxs)(v.A,{variant:"dense",children:[(0,S.jsxs)(d.Ay,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,S.jsxs)(d.Ay,{item:!0,xs:6,container:!0,direction:"row",alignItems:"center",children:[(0,S.jsx)(g.A,{edge:"start",color:"inherit","aria-label":"menu",sx:{mr:.5},children:(0,S.jsx)(y.A,{})}),(0,S.jsx)(h.A,{variant:"h6",color:"inherit",component:"div",children:"Subscription List"})]}),(0,S.jsx)(d.Ay,{item:!0,xs:6,container:!0,direction:"row",justifyContent:"flex-end",alignItems:"center",children:(0,S.jsxs)(x.A,{onClick:()=>{H(!0)},color:"inherit",children:[" ",(0,S.jsx)(C.A,{sx:{mr:.5}})," Add Subscription"]})})]}),(0,S.jsxs)(f.A,{open:_,onClose:O,"aria-labelledby":"responsive-dialog-title",children:[(0,S.jsx)(b.A,{id:"responsive-dialog-title",children:"Create Subscription Plan"}),(0,S.jsx)(m.A,{sx:{width:"500px"},children:(0,S.jsxs)(d.Ay,{mt:2,container:!0,spacing:2,children:[(0,S.jsx)(d.Ay,{item:!0,xs:12,children:(0,S.jsx)(p.A,{label:"Name",variant:"outlined",fullWidth:!0,value:I,onChange:e=>E(e.target.value)})}),(0,S.jsx)(d.Ay,{item:!0,xs:12,children:(0,S.jsx)(p.A,{label:"Amount",variant:"outlined",fullWidth:!0,value:F,onChange:e=>W(e.target.value)})}),(0,S.jsx)(d.Ay,{item:!0,xs:12,children:(0,S.jsx)(s.I,{label:"Features",variant:"outlined",fullWidth:!0,value:z,onChange:e=>V(e.target.value)})})]})}),(0,S.jsx)(u.A,{children:(0,S.jsxs)(d.Ay,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",sx:{padding:2},children:[(0,S.jsx)(x.A,{sx:{backgroundColor:"#FC4343",color:"#fff","&:hover":{backgroundColor:"#FC4343"}},onClick:O,children:"Cancel"}),(0,S.jsx)(x.A,{sx:{backgroundColor:"green",color:"#fff","&:hover":{backgroundColor:"green"}},onClick:()=>{G(),O()},children:"Save"})]})})]})]})})}),(0,S.jsx)(r.s,{children:(0,S.jsx)(i.U,{xs:12,children:Array.isArray(e)&&e.map(((e,a)=>(0,S.jsxs)(l.E,{className:"mb-4",children:[(0,S.jsx)(o.V,{children:(0,S.jsxs)(d.Ay,{sx:{padding:1},container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,S.jsxs)(h.A,{sx:{fontSize:"15px",fontWeight:"bold"},children:["Subscription:",e.planname]})," ",(0,S.jsxs)(h.A,{sx:{fontSize:"15px",fontWeight:"bold"},children:["Amount:",e.amount]})]})}),(0,S.jsx)(c.W,{children:(0,S.jsxs)(d.Ay,{container:!0,direction:"column",justifyContent:"space-between",alignItems:"flex-start",children:[(0,S.jsx)(h.A,{sx:{fontSize:"15px",fontWeight:"bold"},children:"Features:"}),(0,S.jsx)(h.A,{className:"mt-2",children:e.features})]})})]},a)))})})]})}},25104:(e,a,t)=>{t.d(a,{V:()=>o});var n=t(22378),s=t(65043),r=t(65173),i=t.n(r),l=t(25196),o=(0,s.forwardRef)((function(e,a){var t=e.children,r=e.as,i=void 0===r?"div":r,o=e.className,c=(0,n.Tt)(e,["children","as","className"]);return s.createElement(i,(0,n.Cl)({className:(0,l.A)("card-header",o)},c,{ref:a}),t)}));o.propTypes={as:i().elementType,children:i().node,className:i().string},o.displayName="CCardHeader"},64231:(e,a,t)=>{t.d(a,{I:()=>c});var n=t(22378),s=t(65043),r=t(65173),i=t.n(r),l=t(25196),o=t(58757),c=(0,s.forwardRef)((function(e,a){var t=e.children,r=e.className,i=e.feedback,c=e.feedbackInvalid,d=e.feedbackValid,h=e.floatingClassName,x=e.floatingLabel,p=e.id,f=e.invalid,u=e.label,m=e.plainText,b=e.text,j=e.tooltipFeedback,v=e.valid,g=(0,n.Tt)(e,["children","className","feedback","feedbackInvalid","feedbackValid","floatingClassName","floatingLabel","id","invalid","label","plainText","text","tooltipFeedback","valid"]);return s.createElement(o.O,{describedby:g["aria-describedby"],feedback:i,feedbackInvalid:c,feedbackValid:d,floatingClassName:h,floatingLabel:x,id:p,invalid:f,label:u,text:b,tooltipFeedback:j,valid:v},s.createElement("textarea",(0,n.Cl)({className:(0,l.A)(m?"form-control-plaintext":"form-control",{"is-invalid":f,"is-valid":v},r),id:p},g,{ref:a}),t))}));c.propTypes=(0,n.Cl)({className:i().string,id:i().string,plainText:i().bool},o.O.propTypes),c.displayName="CFormTextarea"},67201:(e,a,t)=>{var n=t(24994);a.A=void 0;var s=n(t(40039)),r=t(70579);a.A=(0,s.default)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddCircle")},12500:(e,a,t)=>{var n=t(24994);a.A=void 0;var s=n(t(40039)),r=t(70579);a.A=(0,s.default)([(0,r.jsx)("path",{d:"m12 2-5.5 9h11z"},"0"),(0,r.jsx)("circle",{cx:"17.5",cy:"17.5",r:"4.5"},"1"),(0,r.jsx)("path",{d:"M3 13.5h8v8H3z"},"2")],"Category")}}]);
//# sourceMappingURL=208.b9678b0e.chunk.js.map